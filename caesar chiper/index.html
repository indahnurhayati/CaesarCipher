<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caesar Chiper 7A</title>

    <!--link for css file-->
    <link rel="stylesheet" type="text/css" href="style.css">
    <!--link for css file-->

</head>
<body style="background-color: #E4D0D0;">
    
<h1>Caesar Cipher</h1>

<!--container-->

<div class="text-container">

<!--input-->
<div class="input-section">

    <h2>Original Message</h2>
    <textarea id="input-text" placeholder="Enter your text...."></textarea>

</div>
<!--input-->

<!--output-->
<div class="input-section">

    <h2>Output Message</h2>
    <textarea id="output-text" placeholder="Encrypted and Decrypted text will appear hear...." readonly></textarea>

</div>
<!--output-->

</div>

<!--container-->

<!--button-->

<div>
  
  <label for="Key">Encryption Key</label>
  <input type="number" id="key" min="1" max="25" value="3">

</div>

<button onclick="encrypt()">Encrypt</button>
<button onclick="decrypt()">Decrypt</button>

<!--button-->

<!--script-->

<script>

/*encrypt*/

function encrypt(){
  const inputText = document.getElementById("input-text").value;
  const key = parseInt(document.getElementById("key").value);

  let encryptedText = "";
  for(let i=0; i < inputText.length; i++){
    const charCode = inputText.charCodeAt(i);

    if(charCode >= 65 && charCode <= 90){
      //Encrypt uppercase letters
      encryptedText += String.fromCharCode(((charCode - 65 + key) % 26) + 65);
    }

    else if(charCode >= 97 && charCode <= 122){
      //Encrypt lowercase letters
      encryptedText += String.fromCharCode(((charCode - 97 + key) % 26) + 97);
    }

    else{
        //keep non-alphabetic character as they are 
        encryptedText += inputText[i];
    }

  }
  document.getElementById("output-text").value = encryptedText;
}

/*encrypt*/

/*decrypt*/

function decrypt(){
  const inputText = document.getElementById("input-text").value;
  const key = parseInt(document.getElementById("key").value);

  let decryptedText = "";
  for(let i=0; i < inputText.length; i++){
    const charCode = inputText.charCodeAt(i);

    if(charCode >= 65 && charCode <= 90){
      //dencrypt uppercase letters
      decryptedText += String.fromCharCode(((charCode - 65 - key + 26) % 26) + 65);
    }

    else if(charCode >= 97 && charCode <= 122){
      //Encrypt lowercase letters
      decryptedText += String.fromCharCode(((charCode - 97 - key + 26) % 26) + 97);
    }

    else{
       //keep non-alphabetic character as they are 
       decryptedText += inputText[i];
    }

  }
  document.getElementById("output-text").value = decryptedText;
}

/*decrypt*/

</script>

<!--script-->

</body>
</html>